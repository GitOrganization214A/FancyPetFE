<!--index.wxml-->
<l-capsule-bar wx:if="{{canIUseOpenData}}"
  capsule-color="white" bg-color="#60656C"
  title="个人主页" title-color="#ffac63"
  home-page='/pages/forum/forum'>
<view class="container" style="width:100%; padding:0;">
  <view>
    <view class="userinfo">
      <view class="avatar">
        <image wx:if="{{defaultUrl.length>0}}" class="avatarimg" mode="aspectFit" src ="{{logging?defaultUrl:avatarUrl}}"></image>
        <button bindchooseavatar="getUserAvatar" mode="widthFix" open-type="chooseAvatar" class="avatartext">设置头像</button>  
      </view> 
      <view class="nameandnum">  
        <view class="message">
          <view>
            <input type="nickname" value="{{nickName}}" name="nickname" bindchange="getUserNickname" placeholder="微信用户" style="width:300rpx; height:80rpx; font-size:50rpx"/>
          </view>
          <image wx:if="{{messageUrl.length>0}}" src="{{messageUrl}}" mode="widthFix" bindtap="showMessage" style="width:50rpx;">
          </image>   
        </view>
        <view style="margin-top:20rpx; margin-left:10rpx; ">
          <text type="userid" style="font-weight:300; font-size:26rpx;">UserID:  #{{userid}}</text>
        </view>
        <view style="display: flex;flex-direction:row" > 
            <view>
                <text decode style="font-size: 30rpx;" bind:tap="viewfollowee">
                    关注：{{follow}}  &ensp; 
                </text>
            </view>
            <view>
                <text decode style="font-size: 30rpx;" bind:tap="viewfollower">
                    粉丝：{{fans}}  &ensp; 
                </text>
            </view>
            <view>
                <text decode style="font-size: 30rpx;" bind:tap="viewUserInfo">
                    发帖：{{atcnum}}
                </text> 
            </view>
        </view>
       
      </view>
    </view>
    <view style="display:flex;margin-top:100rpx; justify-content:center;">
      <l-button shape="semicircle" bg-color="#ffac60" bindtap="contactus" width="300">联系我们</l-button>
    </view>
    <view style="display:flex;margin-top:50rpx; justify-content:center;">
      <l-button shape="semicircle" bg-color="#ffac60" bindtap="quitUser" width="300">退出登录</l-button>
    </view>
  </view>
</view>
</l-capsule-bar>

 <!-- 未登录状态 -->
<block wx:else>
      <image wx:if="{{bgUrl.length>0}}" mode="widthFix" src="{{bgUrl}}" style="width: 750rpx;position: absolute; left: 0rpx; top: 0rpx;"></image>

      <view>

      </view>
      <button bindtap="getUserProfile" style="padding:0;border: none; position: fixed; left: 50rpx; bottom: 200rpx; display: block; box-sizing: border-box" type="default">  <image src="{{loginbuttonUrl}}" style="border: none; position: fixed; left: 37.5rpx; bottom: 200rpx; width: 675rpx; height: 75rpx; display: block; box-sizing: border-box"></image></button>
  </block>